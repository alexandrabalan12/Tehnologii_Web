<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://fonts.googleapis.com/css2?family=Yellowtail&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Jura:wght@400;700&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="./styles/index.css" />
		<link rel="stylesheet" href="./styles/pages/home.css" />
		<link rel="stylesheet" href="./styles/pages/afterlogin.css" />
		<link rel="stylesheet" href="./styles/pages/account.css" />
		<link rel="stylesheet" href="./styles/pages/availableprojects.css" />

		<link rel="stylesheet" href="./styles/pages/myreviews-company.css" />
	</head>
	<body>
		<nav class="navbar">
			<div class="navbar-container">
				<a href="admin-homepage.html" class="logo1">PlaCo</a>
				<input
					type="checkbox"
					class="navigation-mobile-toggle"
					id="navi-toggle"
				/>
				<label class="navbar-mobile-button" for="navi-toggle">
					<img src="./assets/nav-menu.png" alt="Menu" />
				</label>
				<div class="nav-menu" id="navbar-menu">
					<!-- continut navigatie -->

					<a href="index.html" class="signup-btn">Log out</a>
				</div>
			</div>
		</nav>
		<div class="title">
			<h2 class="text-h2" id="company-name"></h2>
		</div>

		<div class="myreviews" id="reviews-container">
			<template id="review-template">
				<div class="review-delete">
					<div class="details-account1">
						<div class="review-for">
							<h4 class="text-h4" data-selector="review-name"></h4>

							<div class="stars" data-selector="review-stars"></div>
						</div>
						<div class="review-text">
							<p class="text-body-copy" data-selector="review-text"></p>
						</div>

						<div class="review-from">
							<p class="text-body-copy" data-selector="review-job"></p>
						</div>
					</div>
					<img src="./assets/Trash.png" alt="delete" />
				</div>
			</template>
			<template id="full-star">
				<img src="./assets/full_star.png" alt="Star" />
			</template>
			<template id="empty-star">
				<img src="./assets/empty_star.png" alt="Star" />
			</template>
		</div>

		<script>
			window.addEventListener("load", () => {
				// continut care e dinamic ca vine din backend
				// momentan e static pana legam cu api-urile
				// dar asa o sa arate ce trebuie afisat
				const reviews = [
					{
						id: 6,
						company_id: 1,
						company_name: "Sobolanii2 SRL",
						user_reviewer_id: 41,
						user_reviewer_name: "John Doe",
						user_reviewer_occupation: "Software Engineer",
						rating: 5,
						review_content:
							"I had a specific vision for my restaurant's renovation, and PlaCo  matched me with a construction team that turned it into a reality. The platform made it easy to find qualified experts who provided transparent quotes and timelines. I'm thrilled with the results and the professionalism of the workers. Highly recommend for any project!",
						created_at: "2024-05-28T19:13:37.000Z",
					},
					{
						id: 5,
						company_id: 1,
						company_name: "Sobolanii2 SRL",
						user_reviewer_id: 41,
						user_reviewer_name: "John Doe",
						user_reviewer_occupation: "Software Engineer",
						rating: 1,
						review_content:
							"I had a specific vision for my restaurant's renovation, and PlaCo  matched me with a construction team that turned it into a reality. The platform made it easy to find qualified experts who provided transparent quotes and timelines. I'm thrilled with the results and the professionalism of the workers. Highly recommend for any project!",
						created_at: "2024-05-28T07:12:11.000Z",
					},
					{
						id: 4,
						company_id: 1,
						company_name: "Sobolanii2 SRL",
						user_reviewer_id: 41,
						user_reviewer_name: "John Doe",
						user_reviewer_occupation: "Software Engineer",
						rating: 3,
						review_content:
							"I had a specific vision for my restaurant's renovation, and PlaCo  matched me with a construction team that turned it into a reality. The platform made it easy to find qualified experts who provided transparent quotes and timelines. I'm thrilled with the results and the professionalism of the workers. Highly recommend for any project!",
						created_at: "2024-05-28T07:11:09.000Z",
					},
					{
						id: 3,
						company_id: 1,
						company_name: "Sobolanii2 SRL",
						user_reviewer_id: 41,
						user_reviewer_name: "John Doe",
						user_reviewer_occupation: "Software Engineer",
						rating: 1,
						review_content:
							"I had a specific vision for my restaurant's renovation, and PlaCo  matched me with a construction team that turned it into a reality. The platform made it easy to find qualified experts who provided transparent quotes and timelines. I'm thrilled with the results and the professionalism of the workers. Highly recommend for any project!",
						created_at: "2024-05-27T16:19:38.000Z",
					},
					{
						id: 2,
						company_id: 1,
						company_name: "Sobolanii2 SRL",
						user_reviewer_id: 41,
						user_reviewer_name: "John Doe",
						user_reviewer_occupation: "Software Engineer",
						rating: 5,
						review_content:
							"I had a specific vision for my restaurant's renovation, and PlaCo  matched me with a construction team that turned it into a reality. The platform made it easy to find qualified experts who provided transparent quotes and timelines. I'm thrilled with the results and the professionalism of the workers. Highly recommend for any project!",
						created_at: "2024-05-27T14:56:02.000Z",
					},
					{
						id: 1,
						company_id: 1,
						company_name: "Sobolanii2 SRL",
						user_reviewer_id: 41,
						user_reviewer_name: "John Doe",
						user_reviewer_occupation: "Software Engineer",
						rating: 3,
						review_content:
							"I had a specific vision for my restaurant's renovation, and PlaCo  matched me with a construction team that turned it into a reality. The platform made it easy to find qualified experts who provided transparent quotes and timelines. I'm thrilled with the results and the professionalism of the workers. Highly recommend for any project!",
						created_at: "2024-05-27T12:49:14.000Z",
					},
				];

				const reviewsContainer = document.getElementById("reviews-container");

				function ratings(rating, container) {
					for (let i = 0; i < rating; i += 1) {
						const fullStar = document
							.getElementById("full-star")
							.content.cloneNode(true).firstElementChild;
						container.appendChild(fullStar);
					}
					for (let i = 0; i < 5 - rating; i += 1) {
						const emptyStar = document
							.getElementById("empty-star")
							.content.cloneNode(true).firstElementChild;
						container.appendChild(emptyStar);
					}
				}

				// de aici in jos
				function createReviews() {
					const companyTitle = document.getElementById("company-name");
					companyTitle.innerText = reviews[0].company_name;

					reviews.forEach((review, index) => {
						const reviewTemplate = document
							.getElementById("review-template")
							.content.cloneNode(true).firstElementChild;

						// doar in interior la template-uri
						const review_name = reviewTemplate.querySelector(
							'[data-selector="review-name"]'
						);
						const review_text = reviewTemplate.querySelector(
							'[data-selector="review-text"]'
						);
						const review_job = reviewTemplate.querySelector(
							'[data-selector="review-job"]'
						);
						const review_stars = reviewTemplate.querySelector(
							'[data-selector="review-stars"]'
						);
						review_name.innerText = review.user_reviewer_name;
						review_text.innerText = review.review_content;
						review_job.innerText = review.user_reviewer_occupation;

						ratings(review.rating, review_stars);

						reviewsContainer.appendChild(reviewTemplate);
					});
				}

				createReviews();
			});
		</script>
	</body>
</html>
